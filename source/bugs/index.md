---
title: bug大家庭
date: 2020-01-06 17:53:58
---
Q1.项目架构中日志设计不合理及开发人员疏忽导致的问题？  
A1.背景：<br/>
　　在开发过程中会使用到公司架构组的各种中间件，目前公司部署项目时会将各个组件的日志放在对应的文件夹中，项目启动日志中不会显示因中间件环节出问题而部署失败的原因；如果叫不同开发人员去排错，
无异于大海捞针；且日志平台只会显示项目运行日志，部署之类的日志需要公司ops配合查询。所以一次部署错误的日志排查就需要多方协助全方位排查，对于测试、研发、ops、下游系统都有极大的影响  
　　针对这种问题，应该从两方面入手解决：<br/>
　　一是开发人员要做好详细的变更记录（需记录在册），上线时需要上级领导审批。<br/>
　　二是日志的合理性，架构研发人员也是希望日志分层但是切断了日志入口无法准确定位出错环节；
<hr/>
Q2:对开源框架不合理封装留下的坑？    
A2：前段时间前后端联调调用RPC接口时发现，某些入参可以正常返回，一些参数调用时直接报错说方法无法被执行，因为公司网关层调用的RPC接口是用模板模式自己统一封装的，方法抛出的异常自己也封装
了一层把原本异常吃掉转换成自己的异常，导致无法第一时间定位问题，且抛出的异常误导开发往其他方向去排查
